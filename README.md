
Задание No1.
Необходимо создать таблицу пользователей в БД. Основные поля таблицы:
- ФИО пользователя
- login
- password (закодирован md5)
- дата рождения
- активность на сайте
  PS: В качестве решения нужно перечислить все запросы к БД.
  
 Задание No2.
  Создайте класс. Методы класса должный иметь возможность:
- подключаться с БД;
- добавлять пользователя при получении данных с некой формы посредством POST запроса;
- редактировать данные пользователя;
- получать кастомную выборку по заданному фильтру;
- получать аналитику (например, кто сейчас на сайте);
- на основании полученной аналитики формировать выгрузку (например в CSV или XML файл)
  PS: все методы должны уметь обрабатывать ошибки и исключения, информация о ошибках
  должна писаться в лог-файл.


Решение:

Создадим базу данных mysql:

create table users
(
id       bigint       NOT NULL AUTO_INCREMENT,
fio      varchar(100) unique,
login    varchar(100) not null,
password    varchar(100) not null,
birth    varchar(100) not null,
active   int    not null default 0,
primary key (id)
);

INSERT INTO users (id, fio, login, password, birth, active)
VALUES (1, 'Иванов И. И.', 'Ivanov', 'f899139df5e1059396431415e770c6dd', '01.01.2001', 1),
(2, 'Сидоров С. С.', 'Sidorov', 'f899139df5e1059396431415e770c6dd', '02.02.2002', 0),
(3, 'Петров П. П.', 'Petrov', 'f899139df5e1059396431415e770c6dd', '03.03.2003', 1),
(4, 'Орлов О. О.', 'Orlov', 'f899139df5e1059396431415e770c6dd', '04.04.2004', 0);

PS: В качестве решения нужно перечислить все запросы к БД.

Все запросы в BD реализованы в репозитории src/MyProject/Repositories/UserRepository.php

Задание No2.
Создайте класс. Методы класса должный иметь возможность:

- подключаться с БД;
Всё подключение к BD идёт через репозиторий src/MyProject/Repositories/UserRepository.php

- добавлять пользователя при получении данных с некой формы посредством POST запроса;
добавление пользователя идёт через контроллер src/MyProject/Controllers/UserController.php
метод store() перед добавлением данные проходят валидацию и обработку от sql инъекций.

- редактировать данные пользователя;
редактирование проходит через контроллер src/MyProject/Controllers/UserController.php метод update()
также, перед добавлением данные проходят валидацию и обработку от sql инъекций.

- получать аналитику (например, кто сейчас на сайте);
те, кто на сайте получаем через контроллер src/MyProject/Controllers/ActiveController.php метод index()

- на основании полученной аналитики формировать выгрузку (например в CSV или XML файл)
Выгрузка файла происходит непосредственно в class FileService (src/MyProject/Services/FileService.php)
метод getCsvActiveUser

- информация об ошибках должна писаться в лог-файл.